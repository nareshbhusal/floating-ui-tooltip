!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("tslib")):"function"==typeof define&&define.amd?define(["tslib"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["floating-ui-tooltip"]=e(t.tslib)}(this,(function(t){"use strict";function e(){return document.createElement("div")}function n(t){return{box:t.querySelector(".floating-ui-tooltip-box"),content:t.querySelector(".floating-ui-tooltip-content"),arrow:t.querySelector(".floating-ui-tooltip-arrow")||void 0}}function o(t){return t.split("-")[0]}function i(t){return t.split("-")[1]}function r(t){return["top","bottom"].includes(o(t))?"x":"y"}function s(t){return"y"===t?"height":"width"}function a(t,e,n){let{reference:a,floating:l}=t;const c=a.x+a.width/2-l.width/2,f=a.y+a.height/2-l.height/2,u=r(e),d=s(u),p=a[d]/2-l[d]/2,h="x"===u;let m;switch(o(e)){case"top":m={x:c,y:a.y-l.height};break;case"bottom":m={x:c,y:a.y+a.height};break;case"right":m={x:a.x+a.width,y:f};break;case"left":m={x:a.x-l.width,y:f};break;default:m={x:a.x,y:a.y}}switch(i(e)){case"start":m[u]-=p*(n&&h?-1:1);break;case"end":m[u]+=p*(n&&h?-1:1)}return m}function l(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function c(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function f(t,e){var n;void 0===e&&(e={});const{x:o,y:i,platform:r,rects:s,elements:a,strategy:f}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:h=!1,padding:m=0}=e,g=l(m),w=a[h?"floating"===p?"reference":"floating":p],v=c(await r.getClippingRect({element:null==(n=await(null==r.isElement?void 0:r.isElement(w)))||n?w:w.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(a.floating)),boundary:u,rootBoundary:d})),y=c(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===p?{...s.floating,x:o,y:i}:s.reference,offsetParent:await(null==r.getOffsetParent?void 0:r.getOffsetParent(a.floating)),strategy:f}):s[p]);return{top:v.top-y.top+g.top,bottom:y.bottom-v.bottom+g.bottom,left:v.left-y.left+g.left,right:y.right-v.right+g.right}}const u=Math.min,d=Math.max;function p(t,e,n){return d(t,u(e,n))}const h=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:o=0}=null!=t?t:{},{x:i,y:a,placement:c,rects:f,platform:u}=e;if(null==n)return{};const d=l(o),h={x:i,y:a},m=r(c),g=s(m),w=await u.getDimensions(n),v="y"===m?"top":"left",y="y"===m?"bottom":"right",b=f.reference[g]+f.reference[m]-h[m]-f.floating[g],x=h[m]-f.reference[m],E=await(null==u.getOffsetParent?void 0:u.getOffsetParent(n)),T=E?"y"===m?E.clientHeight||0:E.clientWidth||0:0,R=b/2-x/2,_=d[v],L=T-w[g]-d[y],S=T/2-w[g]/2+R,k=p(_,S,L);return{data:{[m]:k,centerOffset:S-k}}}}),m={left:"right",right:"left",bottom:"top",top:"bottom"};function g(t){return t.replace(/left|right|bottom|top/g,(t=>m[t]))}function w(t,e,n){void 0===n&&(n=!1);const o=i(t),a=r(t),l=s(a);let c="x"===a?o===(n?"end":"start")?"right":"left":"start"===o?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=g(c)),{main:c,cross:g(c)}}const v={start:"end",end:"start"};function y(t){return t.replace(/start|end/g,(t=>v[t]))}const b=["top","right","bottom","left"],x=b.reduce(((t,e)=>t.concat(e,e+"-start",e+"-end")),[]);const E=function(t){return void 0===t&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,r,s,a,l;const{x:c,y:u,rects:d,middlewareData:p,placement:h,platform:m,elements:g}=e,{alignment:v=null,allowedPlacements:b=x,autoAlignment:E=!0,...T}=t,R=function(t,e,n){return(t?[...n.filter((e=>i(e)===t)),...n.filter((e=>i(e)!==t))]:n.filter((t=>o(t)===t))).filter((n=>!t||i(n)===t||!!e&&y(n)!==n))}(v,E,b),_=await f(e,T),L=null!=(n=null==(r=p.autoPlacement)?void 0:r.index)?n:0,S=R[L],{main:k,cross:O}=w(S,d,await(null==m.isRTL?void 0:m.isRTL(g.floating)));if(h!==S)return{x:c,y:u,reset:{skip:!1,placement:R[0]}};const D=[_[o(S)],_[k],_[O]],H=[...null!=(s=null==(a=p.autoPlacement)?void 0:a.overflows)?s:[],{placement:S,overflows:D}],C=R[L+1];if(C)return{data:{index:L+1,overflows:H},reset:{skip:!1,placement:C}};const A=H.slice().sort(((t,e)=>t.overflows[0]-e.overflows[0])),P=null==(l=A.find((t=>{let{overflows:e}=t;return e.every((t=>t<=0))})))?void 0:l.placement;return{reset:{placement:null!=P?P:A[0].placement}}}}};const T=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:i,middlewareData:r,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",flipAlignment:m=!0,...v}=t,b=o(i),x=p||(b===a||!m?[g(a)]:function(t){const e=g(t);return[y(t),e,y(e)]}(a)),E=[a,...x],T=await f(e,v),R=[];let _=(null==(n=r.flip)?void 0:n.overflows)||[];if(u&&R.push(T[b]),d){const{main:t,cross:e}=w(i,s,await(null==l.isRTL?void 0:l.isRTL(c.floating)));R.push(T[t],T[e])}if(_=[..._,{placement:i,overflows:R}],!R.every((t=>t<=0))){var L,S;const t=(null!=(L=null==(S=r.flip)?void 0:S.index)?L:0)+1,e=E[t];if(e)return{data:{index:t,overflows:_},reset:{skip:!1,placement:e}};let n="bottom";switch(h){case"bestFit":{var k;const t=null==(k=_.slice().sort(((t,e)=>t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)-e.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)))[0])?void 0:k.placement;t&&(n=t);break}case"initialPlacement":n=a}return{reset:{placement:n}}}return{}}}};function R(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function _(t){return b.some((e=>t[e]>=0))}const L=function(t){let{strategy:e="referenceHidden",...n}=void 0===t?{}:t;return{name:"hide",async fn(t){const{rects:o}=t;switch(e){case"referenceHidden":{const e=R(await f(t,{...n,elementContext:"reference"}),o.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:_(e)}}}case"escaped":{const e=R(await f(t,{...n,altBoundary:!0}),o.floating);return{data:{escapedOffsets:e,escaped:_(e)}}}default:return{}}}}};const S=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:s,placement:a,rects:l,platform:c,elements:f}=e,u=function(t,e,n,s){void 0===s&&(s=!1);const a=o(t),l=i(t),c="x"===r(t),f=["left","top"].includes(a)?-1:1;let u=1;"end"===l&&(u=-1),s&&c&&(u*=-1);const d="function"==typeof n?n({...e,placement:t}):n,{mainAxis:p,crossAxis:h}="number"==typeof d?{mainAxis:d,crossAxis:0}:{mainAxis:0,crossAxis:0,...d};return c?{x:h*u,y:p*f}:{x:p*f,y:h*u}}(a,l,t,await(null==c.isRTL?void 0:c.isRTL(f.floating)));return{x:n+u.x,y:s+u.y,data:u}}}};const k=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:s,elements:a}=e,{apply:l,...c}=t,u=await f(e,c),p=o(n),h=i(n);let m,g;"top"===p||"bottom"===p?(m=p,g=h===(await(null==s.isRTL?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(g=p,m="end"===h?"top":"bottom");const w=d(u.left,0),v=d(u.right,0),y=d(u.top,0),b=d(u.bottom,0),x={height:r.floating.height-(["left","right"].includes(n)?2*(0!==y||0!==b?y+b:d(u.top,u.bottom)):u[m]),width:r.floating.width-(["top","bottom"].includes(n)?2*(0!==w||0!==v?w+v:d(u.left,u.right)):u[g])};return null==l||l({...x,...r}),{reset:{rects:!0}}}}};function O(t){return"[object Window]"===(null==t?void 0:t.toString())}function D(t){if(null==t)return window;if(!O(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function H(t){return D(t).getComputedStyle(t)}function C(t){return O(t)?"":t?(t.nodeName||"").toLowerCase():""}function A(t){return t instanceof D(t).HTMLElement}function P(t){return t instanceof D(t).Element}function W(t){return t instanceof D(t).ShadowRoot||t instanceof ShadowRoot}function z(t){const{overflow:e,overflowX:n,overflowY:o}=H(t);return/auto|scroll|overlay|hidden/.test(e+o+n)}function M(t){return["table","td","th"].includes(C(t))}function N(t){const e=navigator.userAgent.toLowerCase().includes("firefox"),n=H(t);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||e&&"filter"===n.willChange||e&&!!n.filter&&"none"!==n.filter}const U=Math.min,V=Math.max,j=Math.round;function B(t,e){void 0===e&&(e=!1);const n=t.getBoundingClientRect();let o=1,i=1;return e&&A(t)&&(o=t.offsetWidth>0&&j(n.width)/t.offsetWidth||1,i=t.offsetHeight>0&&j(n.height)/t.offsetHeight||1),{width:n.width/o,height:n.height/i,top:n.top/i,right:n.right/o,bottom:n.bottom/i,left:n.left/o,x:n.left/o,y:n.top/i}}function F(t){return(e=t,(e instanceof D(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function q(t){return O(t)?{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}:{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function I(t){return B(F(t)).left+q(t).scrollLeft}function X(t,e,n){const o=A(e),i=F(e),r=B(t,o&&function(t){const e=B(t);return j(e.width)!==t.offsetWidth||j(e.height)!==t.offsetHeight}(e));let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(o||!o&&"fixed"!==n)if(("body"!==C(e)||z(i))&&(s=q(e)),A(e)){const t=B(e,!0);a.x=t.x+e.clientLeft,a.y=t.y+e.clientTop}else i&&(a.x=I(i));return{x:r.left+s.scrollLeft-a.x,y:r.top+s.scrollTop-a.y,width:r.width,height:r.height}}function Y(t){return"html"===C(t)?t:t.assignedSlot||t.parentNode||(W(t)?t.host:null)||F(t)}function G(t){return A(t)&&"fixed"!==getComputedStyle(t).position?t.offsetParent:null}function J(t){const e=D(t);let n=G(t);for(;n&&M(n)&&"static"===getComputedStyle(n).position;)n=G(n);return n&&("html"===C(n)||"body"===C(n)&&"static"===getComputedStyle(n).position&&!N(n))?e:n||function(t){let e=Y(t);for(W(e)&&(e=e.host);A(e)&&!["html","body"].includes(C(e));){if(N(e))return e;e=e.parentNode}return null}(t)||e}function K(t){if(A(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=B(t);return{width:e.width,height:e.height}}function Q(t){return["html","body","#document"].includes(C(t))?t.ownerDocument.body:A(t)&&z(t)?t:Q(Y(t))}function Z(t,e){var n;void 0===e&&(e=[]);const o=Q(t),i=o===(null==(n=t.ownerDocument)?void 0:n.body),r=D(o),s=i?[r].concat(r.visualViewport||[],z(o)?o:[]):o,a=e.concat(s);return i?a:a.concat(Z(Y(s)))}function $(t,e){return"viewport"===e?c(function(t){const e=D(t),n=F(t),o=e.visualViewport;let i=n.clientWidth,r=n.clientHeight,s=0,a=0;return o&&(i=o.width,r=o.height,Math.abs(e.innerWidth/o.scale-o.width)<.01&&(s=o.offsetLeft,a=o.offsetTop)),{width:i,height:r,x:s,y:a}}(t)):P(e)?function(t){const e=B(t),n=e.top+t.clientTop,o=e.left+t.clientLeft;return{top:n,left:o,x:o,y:n,right:o+t.clientWidth,bottom:n+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(e):c(function(t){var e;const n=F(t),o=q(t),i=null==(e=t.ownerDocument)?void 0:e.body,r=V(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=V(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let a=-o.scrollLeft+I(t);const l=-o.scrollTop;return"rtl"===H(i||n).direction&&(a+=V(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:s,x:a,y:l}}(F(t)))}function tt(t){const e=Z(Y(t)),n=["absolute","fixed"].includes(H(t).position)&&A(t)?J(t):t;return P(n)?e.filter((t=>P(t)&&function(t,e){const n=null==e.getRootNode?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&W(n)){let n=e;do{if(n&&t===n)return!0;n=n.parentNode||n.host}while(n)}return!1}(t,n)&&"body"!==C(t))):[]}const et={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:o}=t;const i=[..."clippingAncestors"===n?tt(e):[].concat(n),o],r=i[0],s=i.reduce(((t,n)=>{const o=$(e,n);return t.top=V(o.top,t.top),t.right=U(o.right,t.right),t.bottom=U(o.bottom,t.bottom),t.left=V(o.left,t.left),t}),$(e,r));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:o}=t;const i=A(n),r=F(n);if(n===r)return e;let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&"fixed"!==o)&&(("body"!==C(n)||z(r))&&(s=q(n)),A(n))){const t=B(n,!0);a.x=t.x+n.clientLeft,a.y=t.y+n.clientTop}return{...e,x:e.x-s.scrollLeft+a.x,y:e.y-s.scrollTop+a.y}},isElement:P,getDimensions:K,getOffsetParent:J,getDocumentElement:F,getElementRects:t=>{let{reference:e,floating:n,strategy:o}=t;return{reference:X(e,J(n),o),floating:{...K(n),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===H(t).direction};const nt=(t,e,n)=>(async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:s}=n,l=await(null==s.isRTL?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:u}=a(c,o,l),d=o,p={};const h=new Set;for(let n=0;n<r.length;n++){const{name:m,fn:g}=r[n];if(h.has(m))continue;const{x:w,y:v,data:y,reset:b}=await g({x:f,y:u,initialPlacement:o,placement:d,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:t,floating:e}});f=null!=w?w:f,u=null!=v?v:u,p={...p,[m]:{...p[m],...y}},b&&("object"==typeof b&&(b.placement&&(d=b.placement),b.rects&&(c=!0===b.rects?await s.getElementRects({reference:t,floating:e,strategy:i}):b.rects),({x:f,y:u}=a(c,d,l)),!1!==b.skip&&h.add(m)),n=-1)}return{x:f,y:u,placement:d,strategy:i,middlewareData:p}})(t,e,{platform:et,...n});function ot(t,e,n){var o=e+"EventListener";["transitionend","webkitTransitionEnd","oTransitionEnd"].forEach((function(e){t[o](e,n)}))}var it={top:"bottom",right:"left",bottom:"top",left:"right"},rt=function(e,i,s,a,l,c){return t.__awaiter(void 0,void 0,void 0,(function(){var u,d,m,g,w,v,y,b,x,R,_,O,D,H,C,A,P,W,z,M,N,U,V,j,B,F,q,I,X,Y,G,J,K,Q,Z,$;return t.__generator(this,(function(tt){switch(tt.label){case 0:return m=void 0!==(d=(u={}).toFlip)&&d,w=void 0===(g=u.toShift)||g,v=e.placement,y=e.hideOnReferenceHidden,b=e.offset,x=e.hideOnTooltipEscape,R=e.arrowSizeScale,_=e.resetPlacementOnUpdate,O=e.arrow,D=n(i),H=D.arrow,C=12*R,s?(A="auto"===v&&(l||_),P="auto"!==v&&m,W=w&&l,z={middleware:t.__spreadArray(t.__spreadArray(t.__spreadArray(t.__spreadArray(t.__spreadArray([S({mainAxis:b[0],crossAxis:b[1]})],A?[E()]:[],!0),W?[(et={padding:16},void 0===et&&(et={}),{name:"shift",options:et,async fn(t){const{x:e,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...c}=et,u={x:e,y:n},d=await f(t,c),h=r(o(i)),m="x"===h?"y":"x";let g=u[h],w=u[m];if(s){const t="y"===h?"bottom":"right";g=p(g+d["y"===h?"top":"left"],g,g-d[t])}if(a){const t="y"===m?"bottom":"right";w=p(w+d["y"===m?"top":"left"],w,w-d[t])}const v=l.fn({...t,[h]:g,[m]:w});return{...v,data:{x:v.x-e,y:v.y-n}}}})]:[],!0),P?[T({fallbackPlacements:["right","left"],fallbackStrategy:"initialPlacement"})]:[],!0),O?[h({element:H,padding:2})]:[],!0),[k({apply:function(t){t.width,t.height,t.reference,t.floating}}),L()],!1)},"auto"!==v&&(z.placement=v),[4,nt(s,i,z)]):[2];case 1:switch(M=tt.sent(),N=M.x,U=M.y,V=M.placement,j=M.middlewareData,B=j.hide,F=B.referenceHidden,q=B.escaped,F&&l&&s.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),j.arrow&&(I=j.arrow.x,X=j.arrow.y),Y=0!==j.arrow.centerOffset,G=y&&F||x&&q||a?"hidden":"visible",i.setAttribute("data-state",G),Object.assign(i.style,{visibility:G,left:N+"px",top:U+"px"}),J=it[V.split("-")[0]],K=0,Q=0,Z=0,Z=null!==I?I+C+"px":"",J){case"top":K=1/1.7,Z=null!==I?I+C*K+"px":"";break;case"bottom":K=.5,Z=null!==I?I+C*K+"px":"";break;case"left":K=.005,Z=null!==I?I+"px":"",Q=null!==X?X-C*K/2+"px":"";break;case"right":K=1.2,Z=null!==I?I+"px":"",Q=null!==X?X-C*K/2+"px":""}return Q=null!==X?X-C*K/2+"px":"",Q=null!==X?X+"px":"",Object.assign(H.style,(($={visibility:Y?"hidden":"visible",left:Z,top:Q,right:"",bottom:""})[J]="-"+C*K+"px",$)),l?console.log("setting state after newlyShown"):console.log("setting state on update"),c({isShown:"visible"===G,fui:M}),[2,M]}var et}))}))},st={allowHTML:!0,content:"",arrow:!0,scrollIntoView:!1,transitionDuration:[300,250],offset:[10,0],hideOnClick:!0,onClickOutside:function(t,e){},onShow:function(t){},onHide:function(t){},onRemove:function(){},placement:"top",resetPlacementOnUpdate:!1,hideOnTooltipEscape:!0,hideOnReferenceHidden:!0,showOnCreate:!0,maxWidth:350,updateDebounce:100,zIndex:99999,arrowSizeScale:1,updateOnEvents:"resize scroll"};function at(t,e){return 0===e?t:function(o){clearTimeout(n),n=setTimeout((function(){t(o)}),e)};var n}var lt=function(){function o(t,e){var n,o=this;this.state={isShown:!1,isRemoved:!1,fui:void 0},this.toHideTooltip=!1,this.transitionDuration=0,this.clickHandler=function(t){o.state.isShown&&(o.tooltipElement.contains(t.target)||o.reference.contains(t.target)||o.props.onClickOutside&&o.props.onClickOutside(o,t),"target"===o.props.hideOnClick?t.target===o.reference&&o.hide():o.props.hideOnClick&&o.hide())},this.props=t,this.reference=e,window.tp=this,(n=document.createElement("style")).type="text/css",n.setAttribute("floating-ui-tooltip-default",""),n.textContent=".floating-ui-tooltip-root{--color:#fff;--border-color:#fefefe;--border-color:red;backface-visibility:hidden;background:var(--color);border-radius:6px;box-shadow:0 0 0 1px rgba(6,44,82,.1),0 2px 16px rgba(33,43,54,.08);box-shadow:0 0 20px 4px rgba(154,161,177,.15),0 4px 80px -8px rgba(36,40,47,.25),0 4px 4px -2px rgba(91,94,105,.15);display:flex;font-size:90%;line-height:0px;margin:0;max-width:calc(100vw - 10px);padding:0;position:absolute;transition-duration:.2s;transition-property:transform,visibility,opacity;transition-timing-function:cubic-bezier(.54,1.5,.38,1.11);z-index:9999}.floating-ui-tooltip-arrow{box-shadow:0 0 0 1px rgba(6,44,82,.1),0 2px 16px rgba(33,43,54,.08);height:14px;position:absolute;transform:translateX(-50%) rotate(45deg);width:14px;z-index:-1}.floating-ui-tooltip-box{border-radius:inherit;line-height:normal;margin:0;outline:0;position:relative}.floating-ui-tooltip-root[data-state=hidden]{opacity:0}.floating-ui-tooltip-root[data-state=visible]{opacity:1}.floating-ui-tooltip-content{background-color:#fff;border-radius:inherit;color:#111;padding:0;position:relative;z-index:2}.floating-ui-tooltip-arrow,.floating-ui-tooltip-root{background:var(--color)}",document.head.appendChild(n)}return o.prototype.hookEventListeners=function(){var t=this;this.debouncedUpdate=at(this.update.bind(this),this.props.updateDebounce),this.autoUpdateCleanup=function(t,e,n,o){void 0===o&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:s=!0,animationFrame:a=!1}=o;let l=!1;const c=i&&!a,f=r&&!a,u=s&&!a,d=c||f?[...P(t)?Z(t):[],...Z(e)]:[];d.forEach((t=>{c&&t.addEventListener("scroll",n,{passive:!0}),f&&t.addEventListener("resize",n)}));let p,h=null;u&&(h=new ResizeObserver(n),P(t)&&h.observe(t),h.observe(e));let m=a?B(t):null;return a&&function e(){if(l)return;const o=B(t);!m||o.x===m.x&&o.y===m.y&&o.width===m.width&&o.height===m.height||n(),m=o,p=requestAnimationFrame(e)}(),()=>{var t;l=!0,d.forEach((t=>{c&&t.removeEventListener("scroll",n),f&&t.removeEventListener("resize",n)})),null==(t=h)||t.disconnect(),h=null,a&&cancelAnimationFrame(p)}}(this.reference,this.tooltipElement,(function(){return t.debouncedUpdate(void 0)})),this.props.updateOnEvents.split(" ").forEach((function(e){window.addEventListener(e,(function(){return t.debouncedUpdate(void 0)}))})),window.addEventListener("click",this.clickHandler.bind(this))},o.prototype.updateTransitionDuration=function(t){this.transitionDuration=t,this.tooltipElement.style.transitionDuration=t+"ms"},o.prototype.create=function(){return t.__awaiter(this,void 0,void 0,(function(){var o,i,r,s,a;return t.__generator(this,(function(t){switch(t.label){case 0:return o=!this.props.showOnCreate,this.tooltipElement=(l=e(),c=e(),f=e(),u=e(),l.className="floating-ui-tooltip-root",c.className="floating-ui-tooltip-box",f.className="floating-ui-tooltip-content",u.className="floating-ui-tooltip-arrow",c.appendChild(f),c.appendChild(u),l.appendChild(c),f.innerHTML='\n    <div id="tooltip-container">\n    <h3>Default tooltip</h3>\n    </div>\n  ',c.setAttribute("role","tooltip"),l.setAttribute("data-state",""),Object.assign(l.style,{visibility:"hidden",left:"0px",top:"0px"}),l),this.updateTransitionDuration(this.props.transitionDuration[0]),i=n(this.tooltipElement).content,r=this.props,s=r.allowHTML,a=r.content,s?i.innerHTML=a:i.innerText=""+a,document.body.appendChild(this.tooltipElement),[4,rt(this.props,this.tooltipElement,this.reference,o,!0,this.setState.bind(this))];case 1:return t.sent(),this.hookEventListeners(),[2]}var l,c,f,u}))}))},o.prototype.getState=function(){return this.state},o.prototype.setState=function(e){var n=this,o=void 0!==e.isShown&&e.isShown!==this.state.isShown;if(o&&e.isShown){var i=at(this.props.onShow,0);this.transitionDuration?function(t,e){function n(o){o.target===t&&(ot(t,"remove",n),e(),console.log("transition end for event "+o))}ot(t,"remove",n),ot(t,"add",n)}(this.tooltipElement,(function(){i(n)})):i(this)}this.state=t.__assign(t.__assign({},this.state),e),o&&!e.isShown&&this.props.onHide(this)},o.prototype.update=function(e){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return e=e||this.toHideTooltip||!1,[4,rt(this.props,this.tooltipElement,this.reference,e,!1,this.setState.bind(this))];case 1:return t.sent(),[2]}}))}))},o.prototype.hide=function(){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return this.toHideTooltip=!0,[4,this.update(!0)];case 1:return t.sent(),this.updateTransitionDuration(this.props.transitionDuration[0]),[2]}}))}))},o.prototype.show=function(){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return this.toHideTooltip=!1,[4,this.update(!1)];case 1:return t.sent(),this.updateTransitionDuration(this.props.transitionDuration[1]),[2]}}))}))},o.prototype.remove=function(){var t=this;this.tooltipElement.remove(),this.state={isShown:!1,isRemoved:!0,fui:void 0},this.autoUpdateCleanup(),window.removeEventListener("click",this.clickHandler.bind(this)),this.props.updateOnEvents.split(" ").forEach((function(e){window.removeEventListener(e,t.debouncedUpdate)})),this.props.onRemove()},o}();return function(e,n){return t.__awaiter(this,void 0,void 0,(function(){var o,i,r,s,a;return t.__generator(this,(function(l){switch(l.label){case 0:return o=n.placement||st.placement,i=n.transitionDuration||st.transitionDuration,r=n.offset||st.offset,console.log(n.offset),Object.keys(n).forEach((function(t){return void 0===n[t]&&delete n[t]})),s=t.__assign(t.__assign(t.__assign({},st),n),{placement:o,transitionDuration:i,offset:r}),[4,(a=new lt(s,e)).create()];case 1:return l.sent(),[2,{props:a.props,reference:a.reference,getState:a.getState.bind(a),show:a.show.bind(a),hide:a.hide.bind(a),remove:a.remove.bind(a),update:a.update.bind(a)}]}}))}))}}));
//# sourceMappingURL=index.js.map
