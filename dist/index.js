!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("tslib")):"function"==typeof define&&define.amd?define(["exports","tslib"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["floating-ui-tooltip"]={},t.tslib)}(this,(function(t,e){"use strict";function n(t){return t.split("-")[0]}function o(t){return t.split("-")[1]}function i(t){return["top","bottom"].includes(n(t))?"x":"y"}function r(t){return"y"===t?"height":"width"}function l(t){let{reference:e,floating:l,placement:a}=t;const c=e.x+e.width/2-l.width/2,s=e.y+e.height/2-l.height/2;let f;switch(n(a)){case"top":f={x:c,y:e.y-l.height};break;case"bottom":f={x:c,y:e.y+e.height};break;case"right":f={x:e.x+e.width,y:s};break;case"left":f={x:e.x-l.width,y:s};break;default:f={x:e.x,y:e.y}}const u=i(a),d=r(u);switch(o(a)){case"start":f[u]=f[u]-(e[d]/2-l[d]/2);break;case"end":f[u]=f[u]+(e[d]/2-l[d]/2)}return f}function a(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function c(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function s(t,e){void 0===e&&(e={});const{x:n,y:o,platform:i,rects:r,elements:l,strategy:s}=t,{boundary:f="clippingParents",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:m=0}=e,h=a(m),g=l[p?"floating"===d?"reference":"floating":d],y=await i.getClippingClientRect({element:await i.isElement(g)?g:g.contextElement||await i.getDocumentElement({element:l.floating}),boundary:f,rootBoundary:u}),x=c(await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===d?{...r.floating,x:n,y:o}:r.reference,offsetParent:await i.getOffsetParent({element:l.floating}),strategy:s}));return{top:y.top-x.top+h.top,bottom:x.bottom-y.bottom+h.bottom,left:y.left-x.left+h.left,right:x.right-y.right+h.right}}const f=Math.min,u=Math.max;function d(t,e,n){return u(t,f(e,n))}const p=t=>({name:"arrow",options:t,async fn(e){const{element:o,padding:l=0}=null!=t?t:{},{x:c,y:s,placement:f,rects:u,platform:p}=e;if(null==o)return{};const m=a(l),h={x:c,y:s},g=i(n(f)),y=r(g),x=await p.getDimensions({element:o}),b="y"===g?"top":"left",w="y"===g?"bottom":"right",v=u.reference[y]+u.reference[g]-h[g]-u.floating[y],T=h[g]-u.reference[g],E=await p.getOffsetParent({element:o}),C=E?"y"===g?E.clientHeight||0:E.clientWidth||0:0,L=v/2-T/2,P=m[b],_=C-x[y]-m[w],A=C/2-x[y]/2+L,k=d(P,A,_);return{data:{[g]:k,centerOffset:A-k}}}}),m={left:"right",right:"left",bottom:"top",top:"bottom"};function h(t){return t.replace(/left|right|bottom|top/g,(t=>m[t]))}function g(t,e){const n="start"===o(t),l=i(t),a=r(l);let c="x"===l?n?"right":"left":n?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=h(c)),{main:c,cross:h(c)}}const y={start:"end",end:"start"};function x(t){return t.replace(/start|end/g,(t=>y[t]))}const b=["top","right","bottom","left"],w=b.reduce(((t,e)=>t.concat(e,e+"-start",e+"-end")),[]);const v=function(t){return void 0===t&&(t={}),{name:"autoPlacement",options:t,async fn(e){var i,r,l,a,c,f;const{x:u,y:d,rects:p,middlewareData:m,placement:h}=e,{alignment:y=null,allowedPlacements:b=w,autoAlignment:v=!0,...T}=t;if(null!=(i=m.autoPlacement)&&i.skip)return{};const E=function(t,e,i){return(t?[...i.filter((e=>o(e)===t)),...i.filter((e=>o(e)!==t))]:i.filter((t=>n(t)===t))).filter((n=>!t||o(n)===t||!!e&&x(n)!==n))}(y,v,b),C=await s(e,T),L=null!=(r=null==(l=m.autoPlacement)?void 0:l.index)?r:0,P=E[L],{main:_,cross:A}=g(P,p);if(h!==P)return{x:u,y:d,reset:{placement:E[0]}};const k=[C[n(P)],C[_],C[A]],R=[...null!=(a=null==(c=m.autoPlacement)?void 0:c.overflows)?a:[],{placement:P,overflows:k}],H=E[L+1];if(H)return{data:{index:L+1,overflows:R},reset:{placement:H}};const O=R.slice().sort(((t,e)=>t.overflows[0]-e.overflows[0])),S=null==(f=O.find((t=>{let{overflows:e}=t;return e.every((t=>t<=0))})))?void 0:f.placement;return{data:{skip:!0},reset:{placement:null!=S?S:O[0].placement}}}}};const T=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var o,i;const{placement:r,middlewareData:l,rects:a,initialPlacement:c}=e;if(null!=(o=l.flip)&&o.skip)return{};const{mainAxis:f=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",flipAlignment:m=!0,...y}=t,b=n(r),w=d||(b===c||!m?[h(c)]:function(t){const e=h(t);return[x(t),e,x(e)]}(c)),v=[c,...w],T=await s(e,y),E=[];let C=(null==(i=l.flip)?void 0:i.overflows)||[];if(f&&E.push(T[b]),u){const{main:t,cross:e}=g(r,a);E.push(T[t],T[e])}if(C=[...C,{placement:r,overflows:E}],!E.every((t=>t<=0))){var L,P;const t=(null!=(L=null==(P=l.flip)?void 0:P.index)?L:0)+1,e=v[t];if(e)return{data:{index:t,overflows:C},reset:{placement:e}};let n="bottom";switch(p){case"bestFit":{var _;const t=null==(_=C.slice().sort(((t,e)=>t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)-e.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)))[0])?void 0:_.placement;t&&(n=t);break}case"initialPlacement":n=c}return{data:{skip:!0},reset:{placement:n}}}return{}}}};function E(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function C(t){return b.some((e=>t[e]>=0))}const L=function(t){return void 0===t&&(t=0),{name:"offset",options:t,fn(e){const{x:o,y:r,placement:l,rects:a}=e,c=function(t){let{placement:e,rects:o,value:r}=t;const l=n(e),a=["left","top"].includes(l)?-1:1,c="function"==typeof r?r({...o,placement:e}):r,{mainAxis:s,crossAxis:f}="number"==typeof c?{mainAxis:c,crossAxis:0}:{mainAxis:0,crossAxis:0,...c};return"x"===i(l)?{x:f,y:s*a}:{x:s*a,y:f}}({placement:l,rects:a,value:t});return{x:o+c.x,y:r+c.y,data:c}}}};function P(t){return"[object Window]"===(null==t?void 0:t.toString())}function _(t){if(null==t)return window;if(!P(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function A(t){return _(t).getComputedStyle(t)}function k(t){return P(t)?"":t?(t.nodeName||"").toLowerCase():""}function R(t){return t instanceof _(t).HTMLElement}function H(t){return t instanceof _(t).Element}function O(t){return t instanceof _(t).ShadowRoot||t instanceof ShadowRoot}function S(t){const{overflow:e,overflowX:n,overflowY:o}=A(t);return/auto|scroll|overlay|hidden/.test(e+o+n)}function W(t){return["table","td","th"].includes(k(t))}function D(t){const e=navigator.userAgent.toLowerCase().includes("firefox"),n=A(t);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||e&&"filter"===n.willChange||e&&!!n.filter&&"none"!==n.filter}const F=Math.min,M=Math.max,N=Math.round;function z(t,e){void 0===e&&(e=!1);const n=t.getBoundingClientRect();let o=1,i=1;return e&&R(t)&&(o=t.offsetWidth>0&&N(n.width)/t.offsetWidth||1,i=t.offsetHeight>0&&N(n.height)/t.offsetHeight||1),{width:n.width/o,height:n.height/i,top:n.top/i,right:n.right/o,bottom:n.bottom/i,left:n.left/o,x:n.left/o,y:n.top/i}}function j(t){return(e=t,(e instanceof _(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function B(t){return P(t)?{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}:{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function V(t){return z(j(t)).left+B(t).scrollLeft}function X(t,e,n){const o=R(e),i=j(e),r=z(t,o&&function(t){const e=z(t);return N(e.width)!==t.offsetWidth||N(e.height)!==t.offsetHeight}(e));let l={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(o||!o&&"fixed"!==n)if(("body"!==k(e)||S(i))&&(l=B(e)),R(e)){const t=z(e,!0);a.x=t.x+e.clientLeft,a.y=t.y+e.clientTop}else i&&(a.x=V(i));return{x:r.left+l.scrollLeft-a.x,y:r.top+l.scrollTop-a.y,width:r.width,height:r.height}}function q(t){return"html"===k(t)?t:t.assignedSlot||t.parentNode||(O(t)?t.host:null)||j(t)}function Y(t){return R(t)&&"fixed"!==getComputedStyle(t).position?t.offsetParent:null}function G(t){const e=_(t);let n=Y(t);for(;n&&W(n)&&"static"===getComputedStyle(n).position;)n=Y(n);return n&&("html"===k(n)||"body"===k(n)&&"static"===getComputedStyle(n).position&&!D(n))?e:n||function(t){let e=q(t);for(;R(e)&&!["html","body"].includes(k(e));){if(D(e))return e;e=e.parentNode}return null}(t)||e}function I(t){return{width:t.offsetWidth,height:t.offsetHeight}}function J(t){return["html","body","#document"].includes(k(t))?t.ownerDocument.body:R(t)&&S(t)?t:J(q(t))}function K(t,e){var n;void 0===e&&(e=[]);const o=J(t),i=o===(null==(n=t.ownerDocument)?void 0:n.body),r=_(o),l=i?[r].concat(r.visualViewport||[],S(o)?o:[]):o,a=e.concat(l);return i?a:a.concat(K(q(l)))}function Q(t,e){return"viewport"===e?c(function(t){const e=_(t),n=j(t),o=e.visualViewport;let i=n.clientWidth,r=n.clientHeight,l=0,a=0;return o&&(i=o.width,r=o.height,Math.abs(e.innerWidth/o.scale-o.width)<.01&&(l=o.offsetLeft,a=o.offsetTop)),{width:i,height:r,x:l,y:a}}(t)):H(e)?function(t){const e=z(t),n=e.top+t.clientTop,o=e.left+t.clientLeft;return{top:n,left:o,x:o,y:n,right:o+t.clientWidth,bottom:n+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(e):c(function(t){var e;const n=j(t),o=B(t),i=null==(e=t.ownerDocument)?void 0:e.body,r=M(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=M(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let a=-o.scrollLeft+V(t);const c=-o.scrollTop;return"rtl"===A(i||n).direction&&(a+=M(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:l,x:a,y:c}}(j(t)))}function U(t){const e=K(q(t)),n=["absolute","fixed"].includes(A(t).position)&&R(t)?G(t):t;return H(n)?e.filter((t=>H(t)&&function(t,e){const n=null==e.getRootNode?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&O(n)){let n=e;do{if(n&&t===n)return!0;n=n.parentNode||n.host}while(n)}return!1}(t,n)&&"body"!==k(t))):[]}const Z={getElementRects:t=>{let{reference:e,floating:n,strategy:o}=t;return{reference:X(e,G(n),o),floating:{...I(n),x:0,y:0}}},convertOffsetParentRelativeRectToViewportRelativeRect:t=>function(t){let{rect:e,offsetParent:n,strategy:o}=t;const i=R(n),r=j(n);if(n===r)return e;let l={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&"fixed"!==o)&&(("body"!==k(n)||S(r))&&(l=B(n)),R(n))){const t=z(n,!0);a.x=t.x+n.clientLeft,a.y=t.y+n.clientTop}return{...e,x:e.x-l.scrollLeft+a.x,y:e.y-l.scrollTop+a.y}}(t),getOffsetParent:t=>{let{element:e}=t;return G(e)},isElement:t=>H(t),getDocumentElement:t=>{let{element:e}=t;return j(e)},getClippingClientRect:t=>function(t){let{element:e,boundary:n,rootBoundary:o}=t;const i=[..."clippingParents"===n?U(e):[].concat(n),o],r=i[0],l=i.reduce(((t,n)=>{const o=Q(e,n);return t.top=M(o.top,t.top),t.right=F(o.right,t.right),t.bottom=F(o.bottom,t.bottom),t.left=M(o.left,t.left),t}),Q(e,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}(t),getDimensions:t=>{let{element:e}=t;return I(e)},getClientRects:t=>{let{element:e}=t;return e.getClientRects()}},$=(t,e,n)=>(async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:a}=n;let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:s,y:f}=l({...c,placement:o}),u=o,d={};for(let n=0;n<r.length;n++){const{name:p,fn:m}=r[n],{x:h,y:g,data:y,reset:x}=await m({x:s,y:f,initialPlacement:o,placement:u,strategy:i,middlewareData:d,rects:c,platform:a,elements:{reference:t,floating:e}});s=null!=h?h:s,f=null!=g?g:f,d={...d,[p]:null!=y?y:{}},x&&("object"==typeof x&&(x.placement&&(u=x.placement),x.rects&&(c=!0===x.rects?await a.getElementRects({reference:t,floating:e,strategy:i}):x.rects),({x:s,y:f}=l({...c,placement:u}))),n=-1)}return{x:s,y:f,placement:u,strategy:i,middlewareData:d}})(t,e,{platform:Z,...n});var tt=12,et={top:"bottom",right:"left",bottom:"top",left:"right"},nt=function(t){var o=t.PLACEMENT,r=t.OFFSET,l=t.tooltip,a=t.tip,c=t.target,f=t.toFlip,u=void 0===f||f,m=t.toShift,h=void 0===m||m;return e.__awaiter(void 0,void 0,void 0,(function(){var t,f,m,g,y,x,b,w,P,_,A,k,R;return e.__generator(this,(function(H){switch(H.label){case 0:return console.log("toFlip: "+u),c?[4,$(c,l,{placement:o,middleware:e.__spreadArray(e.__spreadArray(e.__spreadArray(e.__spreadArray([L({mainAxis:r[0],crossAxis:r[1]})],"auto"===o?[v()]:[],!0),h?[(O={padding:16},void 0===O&&(O={}),{name:"shift",options:O,async fn(t){const{x:e,y:o,placement:r}=t,{mainAxis:l=!0,crossAxis:a=!1,limiter:c={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...f}=O,u={x:e,y:o},p=await s(t,f),m=i(n(r)),h="x"===m?"y":"x";let g=u[m],y=u[h];if(l){const t="y"===m?"bottom":"right";g=d(g+p["y"===m?"top":"left"],g,g-p[t])}if(a){const t="y"===h?"bottom":"right";y=d(y+p["y"===h?"top":"left"],y,y-p[t])}const x=c.fn({...t,[m]:g,[h]:y});return{...x,data:{x:x.x-e,y:x.y-o}}}})]:[],!0),"auto"!==o&&u?[T({fallbackPlacements:["right","left"],fallbackStrategy:"initialPlacement"})]:[],!0),[p({element:a,padding:2}),{name:"hide",async fn(t){const e=await s(t,{elementContext:"reference"}),n=await s(t,{altBoundary:!0}),o=E(e,t.rects.reference),i=E(n,t.rects.floating);return{data:{referenceHidden:C(o),referenceHiddenOffsets:o,escaped:C(i),escapedOffsets:i}}}}],!1)})]:[2];case 1:switch(t=H.sent(),f=t.x,m=t.y,g=t.placement,y=t.middlewareData,x=y.hide.referenceHidden,console.log("is hidden: "+x),console.log(y),y.arrow&&(b=y.arrow.x,w=y.arrow.y),Object.assign(l.style,{visibility:x?"hidden":"visible",left:f+6+"px",top:m+"px"}),P=et[g.split("-")[0]],k=null!==b?b+tt+"px":"",P){case"top":_=1/1.7,k=null!==b?b+tt*_+"px":"";break;case"bottom":_=.5,k=null!==b?b+tt*_+"px":"";break;case"left":_=.005,k=null!==b?b+"px":"",A=null!==w?w-tt*_/2+"px":"";break;case"right":_=1.2,k=null!==b?b+"px":"",A=null!==w?w-tt*_/2+"px":""}return A=null!==w?w-tt*_/2+"px":"",A=null!==w?w+"px":"",Object.assign(a.style,((R={left:k,top:A,right:"",bottom:""})[P]="-"+tt*_+"px",R)),[2]}var O}))}))};t.createTooltip=nt,t.default=function(){console.log("this is tooltip lib");var t,n,o="right",i=[10,0],r=document.querySelector("button#menu-button-2"),l=document.createElement("div"),a=document.createElement("div"),c=document.createElement("div");(t=document.createElement("style")).type="text/css",t.setAttribute("floating-ui-tooltip-default",""),t.textContent=".popover{backface-visibility:hidden;border-radius:6px;box-shadow:0 0 0 1px rgba(6,44,82,.1),0 2px 16px rgba(33,43,54,.08);font-size:90%;margin:0;opacity:1;padding:0;position:absolute;z-index:9999}.popover-content{background-color:#fff;color:#111;padding:2px;text-align:left;z-index:2}.popover,.popover-content{border-radius:6px}.popover-arrow{border:1px solid red;box-shadow:0 0 0 1px rgba(6,44,82,.1),0 2px 16px rgba(33,43,54,.08);height:14px;position:absolute;transform:translateX(-50%) rotate(45deg);width:14px;z-index:12;z-index:-1}.popover,.popover-arrow{background:#fff;border:1px solid red}[data-transition-name=popover][data-transition-state=entering] .popover{opacity:0;transform:scale(.3)}[data-transition-name=popover][data-transition-state=enter] .popover{opacity:1;transform:scale(1);transition:.3s cubic-bezier(.54,1.12,.38,1.11);transition-property:opacity,transform}[data-transition-name=popover][data-transition-state=exiting] .popover{opacity:1;transform:scale(1)}[data-transition-name=popover][data-transition-state=exit] .popover{opacity:0;transform:scale(.3);transition:.1s cubic-bezier(.4,1,.75,.9);transition-property:opacity,transform}",document.head.appendChild(t),(n=document.createElement("style")).innerText="\n  #tooltip h3 {\n    text-align: center;\n  }\n  #tooltip p {\n    color: blue;\n  }\n  #tooltip button {\n    border: 1px solid #ccc;\n    background: #eee;\n  }\n  ",document.head.appendChild(n),a.innerHTML='\n  <div id="tooltip-container">\n  <h3>Tooltip Heading</h3>\n  \x3c!--\n    <p>This is tooltip body text</p>\n  --\x3e\n  <button onclick="window.greet()">Click Me!</button>\n  </div>\n  ',l.id="tip",c.id="tooltip",c.setAttribute("role","tooltip"),c.appendChild(l),c.appendChild(a),c.classList.add("popover"),a.classList.add("popover-content"),l.classList.add("popover-arrow"),Object.assign(c.style,{visibility:"hidden",top:0,left:0}),document.body.appendChild(c),window.setTimeout((function(){return e.__awaiter(void 0,void 0,void 0,(function(){return e.__generator(this,(function(t){switch(t.label){case 0:return[4,nt({PLACEMENT:o,OFFSET:i,target:r,tip:l,tooltip:c})];case 1:return t.sent(),[2]}}))}))}),1e3),window.addEventListener("resize",(function(){return e.__awaiter(void 0,void 0,void 0,(function(){return e.__generator(this,(function(t){switch(t.label){case 0:return[4,nt({PLACEMENT:o,OFFSET:i,target:r,tip:l,tooltip:c,toFlip:!1,toShift:!1})];case 1:return t.sent(),[2]}}))}))})),window.addEventListener("scroll",(function(){return e.__awaiter(void 0,void 0,void 0,(function(){return e.__generator(this,(function(t){switch(t.label){case 0:return[4,nt({PLACEMENT:o,OFFSET:i,target:r,tip:l,tooltip:c,toFlip:!1,toShift:!1})];case 1:return t.sent(),[2]}}))}))}))},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=index.js.map
